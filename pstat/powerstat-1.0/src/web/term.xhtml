<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

  <ui:composition template="categories.xhtml">
    
    <ui:define name="title">
      PowerStat - Terminal
    </ui:define>
    
    <ui:define name="style">
      <h:outputStylesheet library="style" name="ajaxterm.css"/>
    </ui:define>
    
    <ui:define name="script">
      <h:outputScript library="javascript" name="ajaxterm.js"/>
      <script type="text/javascript">
        $(document).ready(function() {
          if(#{linkController.canPerformAction('new-term')})
            new ajaxterm.Terminal("terminalDiv", {width:80,height:25,endpoint:"./u"});
        });
      </script>
    </ui:define>

    <ui:define name="category-icon">
      <h:graphicImage id="term-icon" library="images" name="term-icon_28x20.png"/>
    </ui:define>
    
    <ui:define name="category-name">Terminal</ui:define>
    
    <ui:define name="category-links">
      <p:commandLink id="reconnect-term" action="#{termControll.reconnect()}"
                     styleClass="menuLink"
                     onclick="$('#loading').show();"
                     oncomplete="$('#loading').hide();">
        <h:graphicImage library="images" name="connect-icon2-22.png" 
                        style="position: relative; top: 5px;"/>
        Reconnect Terminal
      </p:commandLink>
      
      <p:spacer width="25" height="5"/>
      <p:graphicImage id="loading" library="images" name="ajax-loader.gif"
                      style="display: none;"/>
    </ui:define>
    
    
    <ui:define name="category-content">
      <div id="terminalDiv" class="ajaxterm"></div>
      <p:spacer height="100"/>
    </ui:define>
    
  </ui:composition>
  
</html>

