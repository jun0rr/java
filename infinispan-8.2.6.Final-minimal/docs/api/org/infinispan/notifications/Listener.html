<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_92) on Mon Jan 23 13:25:19 EST 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Listener (Infinispan JavaDoc 8.2.6.Final API)</title>
<meta name="date" content="2017-01-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Listener (Infinispan JavaDoc 8.2.6.Final API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Listener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/infinispan/notifications/Listenable.html" title="interface in org.infinispan.notifications"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/infinispan/notifications/Listener.Observation.html" title="enum in org.infinispan.notifications"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/infinispan/notifications/Listener.html" target="_top">Frames</a></li>
<li><a href="Listener.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.infinispan.notifications</div>
<h2 title="Annotation Type Listener" class="title">Annotation Type Listener</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation">@Retention</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Retention.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="class or interface in java.lang.annotation">RUNTIME</a>)
 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</a>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/Target.html?is-external=true#value--" title="class or interface in java.lang.annotation">value</a>=<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/annotation/ElementType.html?is-external=true#TYPE" title="class or interface in java.lang.annotation">TYPE</a>)
public @interface <span class="memberNameLabel">Listener</span></pre>
<div class="block">Class-level annotation used to annotate an object as being a valid cache listener.  Used with the <a href="../../../org/infinispan/notifications/Listenable.html#addListener-java.lang.Object-"><code>Listenable.addListener(Object)</code></a> and related APIs. <p/> Note that even if a class is annotated with this
 annotation, it still needs method-level annotation (such as <a href="../../../org/infinispan/notifications/cachemanagerlistener/annotation/CacheStarted.html" title="annotation in org.infinispan.notifications.cachemanagerlistener.annotation"><code>CacheStarted</code></a>)
 to actually receive notifications. <p/> Objects annotated with this annotation - listeners - can be attached to a
 running <a href="../../../org/infinispan/Cache.html" title="interface in org.infinispan"><code>Cache</code></a> so users can be notified of <a href="../../../org/infinispan/Cache.html" title="interface in org.infinispan"><code>Cache</code></a> events. <p/> <p/> There can
 be multiple methods that are annotated to receive the same event, and a method may receive multiple events by using a
 super type. </p> <p/> <h4>Delivery Semantics</h4> <p/> An event is delivered immediately after the respective
 operation, but before the underlying cache call returns. For this reason it is important to keep listener processing
 logic short-lived. If a long running task needs to be performed, it's recommended to use another thread. </p> <p/>
 <h4>Transactional Semantics</h4> <p/> Since the event is delivered during the actual cache call, the transactional
 outcome is not yet known. For this reason, <i>events are always delivered, even if the changes they represent are
 discarded by their containing transaction</i>. For applications that must only process events that represent changes
 in a completed transaction, <a href="../../../org/infinispan/notifications/cachelistener/event/TransactionalEvent.html#getGlobalTransaction--"><code>TransactionalEvent.getGlobalTransaction()</code></a>
 can be used, along with <a href="../../../org/infinispan/notifications/cachelistener/event/TransactionCompletedEvent.html#isTransactionSuccessful--"><code>TransactionCompletedEvent.isTransactionSuccessful()</code></a>
 to record events and later process them once the transaction has been successfully committed. Example 4 demonstrates
 this. </p> <p/> <h4>Threading Semantics</h4> <p/> A listener implementation must be capable of handling concurrent
 invocations. Local notifications reuse the calling thread; remote notifications reuse the network thread. </p> <p/>
 Since notifications reuse the calling or network thread, it is important to realise that if your listener
 implementation blocks or performs a long-running task, the original caller which triggered the cache event may block
 until the listener callback completes.  It is therefore a good idea to use the listener to be notified of an event
 but to perform any long running tasks in a separate thread so as not to block the original caller. </p> <p/> In
 addition, any locks acquired for the operation being performed will still be held for the callback.  This needs to be
 kept in mind as locks may be held longer than necessary or intended to and may cause deadlocking in certain
 situations.  See above paragraph on long-running tasks that should be run in a separate thread. </p> <b>Note</b>:
 The <tt>sync</tt> parameter on this annotation defaults to <tt>true</tt>
 which provides the above semantics.  Alternatively, if you set <tt>sync</tt> to <tt>false</tt>, then invocations are
 made in a <i>separate</i> thread, which will not cause any blocking on the caller or network thread.  The separate
 thread is taken from a pool, which can be configured using <code>org.infinispan.config.GlobalConfiguration#setAsyncListenerExecutorProperties(java.util.Properties)</code>
 and <code>org.infinispan.config.GlobalConfiguration#setAsyncListenerExecutorFactoryClass(String)</code>.
 <p/>
 <b>Summary of Notification Annotations</b> <table border="1" cellpadding="1" cellspacing="1" summary="Summary of
 notification annotations"> <tr> <th bgcolor="#CCCCFF" align="left">Annotation</th> <th bgcolor="#CCCCFF"
 align="left">Event</th> <th bgcolor="#CCCCFF" align="left">Description</th> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachemanagerlistener/annotation/CacheStarted.html" title="annotation in org.infinispan.notifications.cachemanagerlistener.annotation"><code>CacheStarted</code></a></td> <td valign="top"><a href="../../../org/infinispan/notifications/cachemanagerlistener/event/CacheStartedEvent.html" title="interface in org.infinispan.notifications.cachemanagerlistener.event"><code>CacheStartedEvent</code></a></td> <td valign="top">A cache was
 started</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachemanagerlistener/annotation/CacheStopped.html" title="annotation in org.infinispan.notifications.cachemanagerlistener.annotation"><code>CacheStopped</code></a></td>
 <td valign="top"><a href="../../../org/infinispan/notifications/cachemanagerlistener/event/CacheStoppedEvent.html" title="interface in org.infinispan.notifications.cachemanagerlistener.event"><code>CacheStoppedEvent</code></a></td> <td
 valign="top">A cache was stopped</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryModified.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryModified</code></a></td>
 <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/event/CacheEntryModifiedEvent.html" title="interface in org.infinispan.notifications.cachelistener.event"><code>CacheEntryModifiedEvent</code></a></td> <td
 valign="top">A cache entry was modified</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryCreated.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryCreated</code></a></td> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/event/CacheEntryCreatedEvent.html" title="interface in org.infinispan.notifications.cachelistener.event"><code>CacheEntryCreatedEvent</code></a></td> <td valign="top">A cache entry was
 created</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryRemoved.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryRemoved</code></a></td>
 <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/event/CacheEntryRemovedEvent.html" title="interface in org.infinispan.notifications.cachelistener.event"><code>CacheEntryRemovedEvent</code></a></td> <td valign="top">A
 cache entry was removed</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryVisited.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryVisited</code></a></td>
 <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/event/CacheEntryVisitedEvent.html" title="interface in org.infinispan.notifications.cachelistener.event"><code>CacheEntryVisitedEvent</code></a></td> <td valign="top">A
 cache entry was visited</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryLoaded.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryLoaded</code></a></td>
 <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/event/CacheEntryLoadedEvent.html" title="interface in org.infinispan.notifications.cachelistener.event"><code>CacheEntryLoadedEvent</code></a></td> <td valign="top">A
 cache entry was loaded</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntriesEvicted.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntriesEvicted</code></a></td>
 <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/event/CacheEntriesEvictedEvent.html" title="interface in org.infinispan.notifications.cachelistener.event"><code>CacheEntriesEvictedEvent</code></a></td> <td valign="top">A
 cache entries were evicted</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryActivated.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryActivated</code></a></td>
 <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/event/CacheEntryActivatedEvent.html" title="interface in org.infinispan.notifications.cachelistener.event"><code>CacheEntryActivatedEvent</code></a></td> <td
 valign="top">A cache entry was activated</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryPassivated.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryPassivated</code></a></td> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/event/CacheEntryPassivatedEvent.html" title="interface in org.infinispan.notifications.cachelistener.event"><code>CacheEntryPassivatedEvent</code></a></td> <td valign="top">One or more cache entries were
 passivated</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachemanagerlistener/annotation/ViewChanged.html" title="annotation in org.infinispan.notifications.cachemanagerlistener.annotation"><code>ViewChanged</code></a></td>
 <td valign="top"><a href="../../../org/infinispan/notifications/cachemanagerlistener/event/ViewChangedEvent.html" title="interface in org.infinispan.notifications.cachemanagerlistener.event"><code>ViewChangedEvent</code></a></td> <td
 valign="top">A view change event was detected</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/annotation/TransactionRegistered.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>TransactionRegistered</code></a></td> <td valign@="top"><a href="../../../org/infinispan/notifications/cachelistener/event/TransactionRegisteredEvent.html" title="interface in org.infinispan.notifications.cachelistener.event"><code>TransactionRegisteredEvent</code></a></td> <td valign="top">The cache has started
 to participate in a transaction</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/annotation/TransactionCompleted.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>TransactionCompleted</code></a></td>
 <td valign=@"top"><a href="../../../org/infinispan/notifications/cachelistener/event/TransactionCompletedEvent.html" title="interface in org.infinispan.notifications.cachelistener.event"><code>TransactionCompletedEvent</code></a></td> <td
 valign="top">The cache has completed its participation in a transaction</td> </tr> <tr> <td valign="top"><a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryInvalidated.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryInvalidated</code></a></td> <td valign=@"top"><a href="../../../org/infinispan/notifications/cachelistener/event/CacheEntryInvalidatedEvent.html" title="interface in org.infinispan.notifications.cachelistener.event"><code>CacheEntryInvalidatedEvent</code></a></td> <td valign="top">A cache entry was
 invalidated by a remote cache.  Only if cache mode is INVALIDATION_SYNC or INVALIDATION_ASYNC.</td> </tr>
 <p/>
 </table>
 <p/>
 <h4>Example 1 - Method receiving a single event</h4>
 <pre>
    &#064;Listener
    public class SingleEventListener
    {
       &#064;CacheStarted
       public void doSomething(Event event)
       {
          System.out.println(&quot;Cache started.  Details = &quot; + event);
       }
    }
 </pre>
 <p/>
 <h4>Example 2 - Method receiving multiple events</h4>
 <pre>
    &#064;Listener
    public class MultipleEventListener
    {
       &#064;CacheStarted
       &#064;CacheStopped
       public void doSomething(Event event)
       {
          if (event.getType() == Event.Type.CACHE_STARTED)
             System.out.println(&quot;Cache started.  Details = &quot; + event);
          else if (event.getType() == Event.Type.CACHE_STOPPED)
             System.out.println(&quot;Cache stopped.  Details = &quot; + event);
       }
    }
 </pre>
 <p/>
 <h4>Example 3 - Multiple methods receiving the same event</h4>
 <pre>
    &#064;Listener
    public class SingleEventListener
    {
       &#064;CacheStarted
       public void handleStart(Event event)
       {
          System.out.println(&quot;Cache started&quot;);
       }
 <p/>
       &#064;CacheStarted
       &#064;CacheStopped
       &#064;CacheBlocked
       &#064;CacheUnblocked
       &#064;ViewChanged
       public void logEvent(Event event)
       {
          logSystem.logEvent(event.getType());
       }
    }
 </pre>
 <p/>
 <p/>
 <b>Example 4 - Processing only events with a committed transaction.</b>
 <p/>
 <pre>
    &#064;Listener
    public class EventHandler
    {
       private ConcurrentMap&lt;GlobalTransaction, Queue&lt;Event&gt;&gt; map = new ConcurrentHashMap&lt;GlobalTransaction, Queue&lt;Event&gt;&gt;();

       &#064;TransactionRegistered
       public void startTransaction(TransactionRegisteredEvent event)
       {
          map.put(event.getGlobalTransaction(), new ConcurrentLinkedQueue&lt;Event&gt;());
       }
 
       &#064;CacheEntryCreated
       &#064;CacheEntryModified
       &#064;CacheEntryRemoved
       public void addEvent(TransactionalEvent event)
       {
          map.get(event.getGlobalTransaction()).add(event);
       }
  
       &#064;TransactionCompleted
       public void endTransaction(TransactionCompletedEvent event)
       {
          Queue&lt;Event&gt; events = map.get(event.getGlobalTransaction());
          map.remove(event.getGlobalTransaction());
    
          System.out.println("Ended transaction " + event.getGlobalTransaction().getId());
    
          if(event.isTransactionSuccessful())
          {
             for(Event e : events)
             {
                System.out.println("Event " + e);
             }
          }
       }
    }
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>4.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="mailto:manik@jboss.org">Manik Surtani</a>, Jason T. Greene</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../org/infinispan/notifications/cachemanagerlistener/annotation/CacheStarted.html" title="annotation in org.infinispan.notifications.cachemanagerlistener.annotation"><code>CacheStarted</code></a>, 
<a href="../../../org/infinispan/notifications/cachemanagerlistener/annotation/CacheStopped.html" title="annotation in org.infinispan.notifications.cachemanagerlistener.annotation"><code>CacheStopped</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryModified.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryModified</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryCreated.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryCreated</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryRemoved.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryRemoved</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryVisited.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryVisited</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryLoaded.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryLoaded</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntriesEvicted.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntriesEvicted</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryActivated.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryActivated</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryPassivated.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryPassivated</code></a>, 
<a href="../../../org/infinispan/notifications/cachemanagerlistener/annotation/ViewChanged.html" title="annotation in org.infinispan.notifications.cachemanagerlistener.annotation"><code>ViewChanged</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/TransactionCompleted.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>TransactionCompleted</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/TransactionRegistered.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>TransactionRegistered</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/CacheEntryInvalidated.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>CacheEntryInvalidated</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/DataRehashed.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>DataRehashed</code></a>, 
<a href="../../../org/infinispan/notifications/cachelistener/annotation/TopologyChanged.html" title="annotation in org.infinispan.notifications.cachelistener.annotation"><code>TopologyChanged</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Optional Element Summary table, listing optional elements, and an explanation">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Optional Element and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/infinispan/notifications/Listener.html#clustered--">clustered</a></span></code>
<div class="block">Defines whether the annotated listener is clustered or not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/infinispan/notifications/Listener.html#includeCurrentState--">includeCurrentState</a></span></code>
<div class="block">If set to true then the entire existing state within the cluster is
 evaluated.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/infinispan/notifications/Listener.Observation.html" title="enum in org.infinispan.notifications">Listener.Observation</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/infinispan/notifications/Listener.html#observation--">observation</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/infinispan/notifications/Listener.html#primaryOnly--">primaryOnly</a></span></code>
<div class="block">Specifies whether the event should be fired on the primary data owner of the affected key, or all nodes that see
 the update.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../org/infinispan/notifications/Listener.html#sync--">sync</a></span></code>
<div class="block">Specifies whether callbacks on any class annotated with this annotation happens synchronously (in the caller's
 thread) or asynchronously (using a separate thread).</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a name="sync--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sync</h4>
<pre>public abstract&nbsp;boolean&nbsp;sync</pre>
<div class="block">Specifies whether callbacks on any class annotated with this annotation happens synchronously (in the caller's
 thread) or asynchronously (using a separate thread).  Defaults to <tt>true</tt>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the expectation is that callbacks are called using the caller's thread; false if they are to be
         made in a separate thread.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>4.0</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>true</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="primaryOnly--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>primaryOnly</h4>
<pre>public abstract&nbsp;boolean&nbsp;primaryOnly</pre>
<div class="block">Specifies whether the event should be fired on the primary data owner of the affected key, or all nodes that see
 the update.
 <p>
 Note that is value is ignored when <a href="../../../org/infinispan/notifications/Listener.html#clustered--"><code>clustered()</code></a> is true.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the expectation is that only the primary data owner will fire the event, false if all nodes that
         see the update fire the event.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>5.3</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="clustered--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clustered</h4>
<pre>public abstract&nbsp;boolean&nbsp;clustered</pre>
<div class="block">Defines whether the annotated listener is clustered or not.
 Important: Clustered listener can only be notified for @CacheEntryRemoved, @CacheEntryCreated,</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the expectation is that this listener is to be a cluster listener, as in it will receive
         all notifications for data modifications</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>7.0</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="includeCurrentState--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>includeCurrentState</h4>
<pre>public abstract&nbsp;boolean&nbsp;includeCurrentState</pre>
<div class="block">If set to true then the entire existing state within the cluster is
 evaluated. For existing matches of the value, an @CacheEntryCreated event is triggered against the listener
 during registration.  This is only supported if the listener is also
 <a href="../../../org/infinispan/notifications/Listener.html#clustered--"><code>clustered()</code></a>.
 <p>
 If using a distributed clustered cache it is possible to retrieve new events before the initial transfer is
 completed.  This is handled since only new events are queued until the segment it belongs to is completed
 for iteration.  This also will help reduce memory strain since a distributed clustered listener will need
 to eventually retrieve all values from the cache.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the expectation is that when the listener is installed that all of the current data is sent
         as new events to the listener before receiving new events</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>7.0</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>false</dd>
</dl>
</li>
</ul>
</li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="observation--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>observation</h4>
<pre>public abstract&nbsp;<a href="../../../org/infinispan/notifications/Listener.Observation.html" title="enum in org.infinispan.notifications">Listener.Observation</a>&nbsp;observation</pre>
<dl>
<dt>Default:</dt>
<dd>org.infinispan.notifications.Listener.Observation.BOTH</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Listener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage">---> -<!-- -<script type='text/javascript'> -var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www."); -document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E")); -</script> -<script type='text/javascript'> -try { -var pageTracker = _gat._getTracker("UA-8601422-4"); -pageTracker._trackPageview(); -} catch(err) {}</script></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/infinispan/notifications/Listenable.html" title="interface in org.infinispan.notifications"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../org/infinispan/notifications/Listener.Observation.html" title="enum in org.infinispan.notifications"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/infinispan/notifications/Listener.html" target="_top">Frames</a></li>
<li><a href="Listener.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017 <a href="http://www.jboss.org">JBoss, a division of Red Hat</a>. All rights reserved.</small></p>
</body>
</html>
